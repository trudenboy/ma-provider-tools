name: Sync to Fork
on:
  workflow_dispatch:
    inputs:
      target_branch:
        description: "Target branch in fork (default: integration/dev)"
        default: "integration/dev"
        type: string
      version:
        description: "Version tag (e.g. v2.0.0) â€” leave empty to use latest release tag"
        default: ""
        type: string

permissions:
  issues: write  # Required by report-failure job in reusable workflow

jobs:
  sync:
    uses: trudenboy/ma-provider-tools/.github/workflows/reusable-sync-to-fork.yml@main
    with:
      manifest_path: {{ manifest_path }}
      provider_path: {{ provider_path }}
{% raw %}
      target_branch: ${{ inputs.target_branch }}
      version: ${{ inputs.version }}
{% endraw %}
    secrets: inherit
